<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>🍽️ El Misterio del Plato Español</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #fffaf3;
      color: #3b1f0f;
      padding: 2em;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      color: #8b1e1e;
      text-align: center;
    }
    .intro, .final {
      background-color: #fbe3c6;
      padding: 1em;
      border-radius: 10px;
      margin-bottom: 1em;
      border: 2px dashed #c76c3a;
    }
    .pregunta {
      margin-top: 1em;
      font-weight: bold;
      color: #5e2d0c;
    }
    .estado {
      margin-top: 1em;
      font-size: 1.1em;
      color: #2e4e1f;
    }
    input[type="text"] {
      width: 100%;
      padding: 0.5em;
      margin-top: 0.5em;
      border: 1px solid #c76c3a;
      border-radius: 5px;
    }
    button {
      margin-top: 0.5em;
      padding: 0.5em 1em;
      background-color: #8b1e1e;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #5e1414;
    }
  </style>
</head>
<body>

  <h1>🍄 El Misterio del Plato Español 🍄</h1>

  <div class="intro" id="intro">
    <p>Has llegado a un restaurante donde cada plato esconde una pista geográfica.<br>
    Tu misión: identificar la ciudad española detrás de cada delicia.<br>
    Si acumulas demasiados fallos, el chef te mandará directo a fregar ollas.<br>
    Si aciertas lo suficiente, el delantal de maestro cocinero será tuyo.</p>

    <p>🎯 Aciertos necesarios para ganar: <strong>5</strong><br>
    💔 Fallos permitidos antes de perder: <strong>3</strong></p>

    <p>⚠️ <strong>IMPORTANTE:</strong> Responde con el nombre de la ciudad en <em>minúsculas</em> y <em>sin tildes</em>.</p>

    <input type="text" id="nombre" placeholder="Introduce tu nombre...">
    <button onclick="iniciarJuego()">Comenzar aventura</button>
  </div>

  <div id="juego"></div>

  <script>
    const preguntas = {
      "Si alguien te ofrece tapas gratis con cada bebida y piensas esto es demasiado bueno para ser verdad, ¿en qué ciudad estás?": "granada",
      "¿En qué ciudad comer un rabo de toro es tan normal que nadie se sorprende?": "cordoba",
      "¿Dónde comer bocadillos de calamares es casi obligatorio?": "madrid",
      "Si pedir pan con tomate no levanta sospechas de extrañeza, ¿en qué ciudad estás?": "barcelona",
      "Si un plato de marmitako de bonito se sirve casi en cada restaurante de pescado, ¿dónde estás?": "bilbao",
      "¿En qué ciudad pedir una paella es casi un arte?": "valencia",
      "¿En qué ciudad el ternasco asado es el rey indiscutible de los menús?": "zaragoza",
      "Si la morcilla es tan famosa que tiene hasta su propia denominación de origen, ¿en qué ciudad estás?": "burgos",
      "¿Dónde pedir un cachopo del tamaño de tu cabeza es completamente normal?": "asturias",
      "Si te invitan a comer Rabas (calamares fritos), un aperitivo que sabe a mar y que se come principalmente los domingos, ¿en qué ciudad estás?": "santander",
      "¿En qué ciudad las tortas de alma, unos dulces tradicionales de almendra y canela, son el souvenir gastronómico más buscado?": "teruel",
      "¿En qué provincia las frituras de harina de garbanzo con pequeños crustáceos se llaman Tortillitas de Camarones?": "cadiz",
      "¿En qué ciudad es tradición comer buñuelos rellenos de cabello de ángel llamados Borrachuelos?": "malaga",
      "Si visitas la tierra donde el turrón navideño es el producto estrella y se fabrica artesanalmente desde hace siglos, ¿dónde estás?": "alicante",
      "¿Dónde comer cebollas asadas con las manos, mancharte hasta los codos de salsa negra y llevarlo todo con babero es una tradición respetable?": "tarragona",
      "¿Dónde un bollo frito con crema llamado xuixo es el desayuno estrella y nadie piensa en las calorías?": "gerona",
      "Si comer caracoles asados en bandeja es toda una tradición en primavera y verano, ¿en qué ciudad estás?": "lerida"
    };

    let aciertos = 0;
    let fallos = 0;
    const objetivo = 5;
    const maxFallos = 3;
    let preguntasRestantes = [];
    let nombreJugador = "";

    function iniciarJuego() {
      nombreJugador = document.getElementById("nombre").value.trim();
      if (!nombreJugador) return alert("Por favor, escribe tu nombre.");
      preguntasRestantes = Object.keys(preguntas);
      document.getElementById("intro").style.display = "none";
      mostrarPregunta();
    }

    function mostrarPregunta() {
      if (aciertos >= objetivo || fallos >= maxFallos || preguntasRestantes.length === 0) {
        mostrarResultadoFinal();
        return;
      }

      const index = Math.floor(Math.random() * preguntasRestantes.length);
      const pregunta = preguntasRestantes.splice(index, 1)[0];

      const juegoDiv = document.getElementById("juego");
      juegoDiv.innerHTML = `
        <div class="pregunta">
          <p>👨‍🍳 ${nombreJugador}, tu pregunta es:</p>
          <p>${pregunta}</p>
          <input type="text" id="respuesta" placeholder="Tu respuesta...">
          <button onclick="verificarRespuesta('${pregunta}')">Responder</button>
        </div>
        <div class="estado">
          Aciertos: ${aciertos} | Fallos: ${fallos}
        </div>
      `;
    }

    function verificarRespuesta(pregunta) {
      const input = document.getElementById("respuesta");
      const respuesta = input.value.trim().toLowerCase();
      const correcta = preguntas[pregunta];

      const juegoDiv = document.getElementById("juego");
      const resultado = document.createElement("div");
      resultado.className = "estado";

      if (respuesta === correcta) {
        aciertos++;
        resultado.textContent = "✅ ¡Correcto!";
      } else {
        fallos++;
        resultado.textContent = `❌ Incorrecto. La respuesta era: ${correcta}`;
      }

      juegoDiv.appendChild(resultado);
      setTimeout(mostrarPregunta, 1500);
    }

    function mostrarResultadoFinal() {
      const juegoDiv = document.getElementById("juego");
      juegoDiv.innerHTML = "";

      const final = document.createElement("div");
      final.className = "final";

      if (aciertos >= objetivo) {
        final.innerHTML = `<h2>🏆 ¡VICTORIA!</h2>
          <p>El chef te entrega el delantal dorado y te invita a su cocina.<br>
          Brindis con vino, risas y una ovación de los comensales.<br>
          🌟 ¡Eres oficialmente Maestro Cocinero!</p>`;
      } else {
        final.innerHTML = `<h2>💀 DERROTA</h2>
          <p>Has confundido demasiadas ciudades y el chef no perdona.<br>
          🧼 Te toca fregar ollas hasta que la luna se esconda.</p>`;
      }

      juegoDiv.appendChild(final);
    }
  </script>
</body>
</html>


