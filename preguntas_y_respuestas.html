<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Geografía Gastronómica</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #fefae0;
      color: #333;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    h1 {
      color: #bc6c25;
    }
    .estado {
      margin-top: 10px;
      font-weight: bold;
    }
    .resultado {
      margin-top: 10px;
      font-size: 1.2em;
    }
    input[type="text"] {
      width: 100%;
      padding: 8px;
      margin-top: 10px;
    }
    button {
      padding: 10px 20px;
      margin-top: 10px;
      background-color: #283618;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #606c38;
    }
  </style>
</head>
<body>

  <h1>🌍 Geografía Gastronómica 🌍</h1>
  <p>Responde correctamente a 5 preguntas antes de fallar 3 veces. ¡Suerte!</p>

  <div id="pregunta"></div>
  <input type="text" id="respuesta" placeholder="Escribe tu respuesta aquí">
  <button onclick="verificarRespuesta()">Responder</button>

  <div class="estado" id="estado"></div>
  <div class="resultado" id="resultado"></div>

  <script>
    // 1. Diccionario de preguntas y respuestas
    const preguntasGeografia = {
      "Si alguien te ofrece tapas gratis con cada bebida y piensas esto es demasiado bueno para ser verdad, ¿en qué ciudad estás?": "granada",
      "¿En qué ciudad comer un rabo de toro es tan normal que nadie se sorprende?": "cordoba",
      "¿Dónde comer bocadillos de calamares es casi obligatorio?": "madrid",
      "Si pedir pan con tomate no levanta sospechas de extrañeza, ¿en qué ciudad estás?": "barcelona",
      "Si un plato de marmitako de bonito se sirve casi en cada restaurante de pescado, ¿dónde estás?": "bilbao",
      "¿En qué ciudad pedir una paella es casi un arte?": "valencia",
      "¿En qué ciudad el ternasco asado es el rey indiscutible de los menus?": "zaragoza",
      "Si la morcilla es tan famosa que tiene hasta su propia denominacion de origen, ¿en qué ciudad estás?": "burgos",
      "¿Dónde pedir un cachopo del tamaño de tu cabeza es completamente normal?": "asturias",
      "Si te invitan a comer Rabas (calamares fritos), un aperitivo que sabe a mar y que se come principalmente los domingos, ¿en qué ciudad estás?": "santander",
      "¿En qué ciudad las tortas de alma, unos dulces tradicionales de almendra y canela, son el souvenir gastronomico más buscado?": "teruel",
      "¿En qué provincia las frituras de harina de garbanzo con pequeños crustaceos se llaman Tortillitas de Camarones?": "cadiz",
      "¿En qué ciudad es tradicion comer buñuelos rellenos de cabello de angel llamados Borrachuelos?": "malaga",
      "Si visitas la tierra donde el turron navideno es el producto estrella y se fabrica artesanalmente desde hace siglos, ¿dónde estás?": "alicante",
      "¿Dónde comer cebollas asadas con las manos, mancharte hasta los codos de salsa negra y llevarlo todo con babero es una tradicion respetable?": "tarragona",
      "¿Dónde un bollo frito con crema llamado xuixo es el desayuno estrella y nadie piensa en las calorias?": "gerona",
      "Si comer caracoles asados en bandeja es toda una tradicion en primavera y verano, ¿en qué ciudad estás?": "lerida"
    };

    // 2. Variables de estado
    let aciertos = 0;
    let fallos = 0;
    const objetivoAciertos = 5;
    const maxFallos = 3;
    let listaPreguntas = Object.keys(preguntasGeografia);

    // 3. Mostrar la primera pregunta
    let preguntaActual = "";
    function nuevaPregunta() {
      if (listaPreguntas.length === 0) return;
      const indice = Math.floor(Math.random() * listaPreguntas.length);
      preguntaActual = listaPreguntas[indice];
      listaPreguntas.splice(indice, 1);
      document.getElementById("pregunta").textContent = preguntaActual;
      document.getElementById("respuesta").value = "";
    }

    // 4. Verificar la respuesta del usuario
    function verificarRespuesta() {
      const respuestaUsuario = document.getElementById("respuesta").value.trim().toLowerCase();
      const respuestaCorrecta = preguntasGeografia[preguntaActual];
      const resultado = document.getElementById("resultado");

      if (respuestaUsuario === respuestaCorrecta) {
        aciertos++;
        resultado.textContent = "✅ ¡Correcto!";
      } else {
        fallos++;
        resultado.textContent = `❌ Incorrecto. La respuesta correcta era: ${respuestaCorrecta}`;
      }

      actualizarEstado();

      if (aciertos === objetivoAciertos) {
        resultado.textContent += " 🏆 ¡Ganaste!";
        desactivarJuego();
      } else if (fallos === maxFallos) {
        resultado.textContent += " 💀 Has perdido.";
        desactivarJuego();
      } else {
        nuevaPregunta();
      }
    }

    // 5. Mostrar estado actual
    function actualizarEstado() {
      document.getElementById("estado").textContent = `Aciertos: ${aciertos} | Fallos: ${fallos}`;
    }

    // 6. Desactivar el juego al finalizar
    function desactivarJuego() {
      document.getElementById("pregunta").textContent = "Juego finalizado.";
      document.querySelector("button").disabled = true;
      document.getElementById("respuesta").disabled = true;
    }

    // Iniciar el juego
    nuevaPregunta();
    actualizarEstado();
  </script>

</body>
</html>
